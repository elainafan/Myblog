---
title: 【程序设计实习】输入输出与模板作业
date: 2025-04-16
categories:
    - 程序设计实习
---
# A:简单的SumArray
## 描述
填写模板 PrintArray,使得程序输出结果是： TomJackMaryJohn 10 不得编写SumArray函数
```
#include <iostream>
#include <string>
using namespace std;
template <class T>
T SumArray(
// 在此处补充你的代码
}
int main() {
	string array[4] = { "Tom","Jack","Mary","John"};
	cout << SumArray(array,array+4) << endl;
	int a[4] = { 1, 2, 3, 4};  //提示：1+2+3+4 = 10
	cout << SumArray(a,a+4) << endl;
	return 0;
}
```
## 输入
```
无
```
## 输出
```
TomJackMaryJohn
10
```
## 样例输入
```
无
```
## 样例输出
```
TomJackMaryJohn
10
```
# Solution
就是简单的题目 第一次知道对于一个指针i,*i表示的是对i解指针，也就是获取i指向的地址的值（没错又忘了）  
下面看代码:
```
#include <iostream>
#include <string>
using namespace std;
template <class T>
T SumArray(T *a,T *b){
    T c=*a;
    for(T* i=a+1;i<b;i++){
        c+=*i;
    }
    return c;
}
int main() {
	string array[4] = { "Tom","Jack","Mary","John"};
	cout << SumArray(array,array+4) << endl;
	int a[4] = { 1, 2, 3, 4};  //提示：1+2+3+4 = 10
	cout << SumArray(a,a+4) << endl;
	return 0;
}
```
# B:简单的foreach
## 描述
编写MyForeach模板，使程序按要求输出 不得编写 MyForeach函数
```
#include <iostream>
#include <string>
using namespace std;
// 在此处补充你的代码
void Print(string s)
{
	cout << s;
}
void Inc(int & n)
{
	++ n;
}
string array[100];
int a[100];
int main() {
	int m,n;
	while(cin >> m >> n) {
		for(int i = 0;i < m; ++i)
			cin >> array[i];
		for(int j = 0; j < n; ++j)
			cin >> a[j];
		MyForeach(array,array+m,Print);		 
		cout << endl;
		MyForeach(a,a+n,Inc);		 
		for(int i = 0;i < n; ++i)
			cout << a[i] << ",";
		cout << endl;
	}
	return 0;
}
```
## 输入
多组数据

每组数据第一行是两个整数 m 和 n ,都不超过 50

第二行是m个不带空格的字符串  
第三行是 n个整数
## 输出
对每组数据  
第一行输出所有输入字符串连在一起的结果  
第二行输出输入中的每个整数加1的结果
## 样例输入
```
3 4
Tom Mike Jack
1 2 3 4
1 2
Peking
100 200
```
## 样例输出
```
TomMikeJack
2,3,4,5,
Peking
101,201,
```
# Solution
跟上题差不多，还是没什么难的   
记住函数的引用方式就行  
下面看代码:
```
#include <iostream>
#include <string>
using namespace std;
template<class T1,class T2>
void MyForeach(T1 *a,T1 *b,void f(T2 t)){
    for(T1 *i=a;i<b;i++){
        f(*i);
    }
}
void Print(string s)
{
	cout << s;
}
void Inc(int & n)
{
	++ n;
}
string array[100];
int a[100];
int main() {
	int m,n;
	while(cin >> m >> n) {
		for(int i = 0;i < m; ++i)
			cin >> array[i];
		for(int j = 0; j < n; ++j)
			cin >> a[j];
		MyForeach(array,array+m,Print);		 
		cout << endl;
		MyForeach(a,a+n,Inc);		 
		for(int i = 0;i < n; ++i)
			cout << a[i] << ",";
		cout << endl;
	}
	return 0;
}
```
# C:简单的Filter
## 描述
编写Filter模板，使得程序产生指定输出 不得编写 Filter函数
```
#include <iostream>
#include <string>
using namespace std;
// 在此处补充你的代码
bool LargerThan2(int n)
{
	return n > 2;
}
bool LongerThan3(string s) 
{
	return s.length() > 3;
}

string as1[5] = {"Tom","Mike","Jack","Ted","Lucy"};
string as2[5];
int  a1[5] = { 1,2,3,4,5};
int a2[5];
int main() {
	string * p = Filter(as1,as1+5,as2,LongerThan3);
	for(int i = 0;i < p - as2; ++i)
		cout << as2[i];
	cout << endl; 
	int * p2 = Filter(a1,a1+5,a2,LargerThan2);
	for(int i = 0;i < p2-a2; ++i)
		cout << a2[i] << ",";
	return 0;
}
```
## 输入
```
无
```
## 输出
```
MikeJackLucy
3,4,5,
```
## 样例输入
```
无
```
## 样例输出
```
MikeJackLucy
3,4,5,
```
# Solution
还是没啥难的 注意一下函数的引用方式就行  
下面看代码：
```
#include <iostream>
#include <string>
using namespace std;
template<class T1,class T2>
T1* Filter(T1 *a,T1 *b,T1 *c,bool f(T2 t)){
	for(T1 *i=a;i<b;i++){
		if(f(*i)){
			*c=*i;
			c++;
		} 
	}
	return c;
}
bool LargerThan2(int n)
{
	return n > 2;
}
bool LongerThan3(string s) 
{
	return s.length() > 3;
}

string as1[5] = {"Tom","Mike","Jack","Ted","Lucy"};
string as2[5];
int  a1[5] = { 1,2,3,4,5};
int a2[5];
int main() {
	string * p = Filter(as1,as1+5,as2,LongerThan3);
	for(int i = 0;i < p - as2; ++i)
		cout << as2[i];
	cout << endl; 
	int * p2 = Filter(a1,a1+5,a2,LargerThan2);
	for(int i = 0;i < p2-a2; ++i)
		cout << a2[i] << ",";
	return 0;
}
```
# D:你真的搞清楚为啥 while(cin >> n) 能成立了吗？
## 描述
读入两个整数，输出两个整数 ，直到碰到-1
```
#include <iostream>
using namespace std;
class MyCin
{
// 在此处补充你的代码
};
int main()
{
    MyCin m;
    int n1,n2;
    while( m >> n1 >> n2) 
        cout  << n1 << " " << n2 << endl;
    return 0;
}
```
## 输入
多组数据，每组一行，是两个整数
## 输出
对每组数据，原样输出
当碰到输入中出现-1 时，程序结束  
输入中保证会有 -1
## 样例输入
```
12 44
344 555
-1
2 3
```
## 样例输出
```
12 44
344 555
```
# Solution
我们需要定义一个MyCin类以实现输入（并且是链式）功能  
那么，我们要怎么办？  
肯定是要重载运算符   
同时，为了实现链式的输入，我们只能一个一个输出  
怎么定义出现-1时程序结束呢？  
上课的时候老师有讲到 while(cin>>n)  
是由一个istream类函数和一个bool类函数组成的  
我们这里就需要去编写这个bool函数   
所以我们定义一个初始值为true的bool型变量flag,当输入不为-1的时候就单纯输入，为-1的时候flag就变为0，同时，用operator bool()返回flag(上课老师有讲)，结束while  
而两个return *this;  
表明的是，当flag是false就不输入了（直接return *this)，只有是true才输入  
下面看代码:
```
#include <iostream>
using namespace std;
class MyCin
{
private:
	bool flag;
public:
	MyCin():flag(true){}
	MyCin &operator >>(int &n){
		if(!flag) return *this;
		cin>>n;
		if(n==-1) flag=false;
		return *this;
	}
	operator bool(){ return flag; }
};
int main()
{
    MyCin m;
    int n1,n2;
    while( m >> n1 >> n2) 
        cout  << n1 << " " << n2 << endl;
    return 0;
}
```
# E:山寨版istream_iterator
## 描述
模仿C++标准模板库istream_iterator用法，实现CMyistream_iterator使得程序按要求输出
```
#include <iostream>
#include <string>

using namespace std;
template <class T>
class CMyistream_iterator
{
// 在此处补充你的代码
};



int main()  
{ 
	int t;
	cin >> t;
	while( t -- ) {
		 CMyistream_iterator<int> inputInt(cin);
		 int n1,n2,n3;
		 n1 = * inputInt; //读入 n1
		 int tmp = * inputInt;
		 cout << tmp << endl;
		 inputInt ++;   
		 n2 = * inputInt; //读入 n2
		 inputInt ++;
		 n3 = * inputInt; //读入 n3
		 cout << n1 << " " << n2<< " " << n3 << " ";
		 CMyistream_iterator<string> inputStr(cin);
		 string s1,s2;
		 s1 = * inputStr;
		 inputStr ++;
		 s2 = * inputStr;
		 cout << s1 << " " << s2 << endl;
	}
	 return 0;  
}
```
## 输入
第一行是整数t，表示有t组数据  
每组数据一行，三个整数加两个字符串。字符串是不含空格的
## 输出
对每组数据，输出二行  
在第一行输出第一个数  
第二行原样输出输入的内容
## 样例输入
```
2
79 90 20 hello me
12 34 19 take up
```
## 样例输出
```
79
79 90 20 hello me
12
12 34 19 take up
```
## 提示
C++标准模板库 istream_iterator模版使用说明：

其构造函数执行过程中就会要求输入，然后每次执行++，则读取输入流中的下一个项目，执行 * 则返回上次从输入流中读取的项目。例如，下面程序运行时，就会等待用户输入数据，输入数据后程序才会结束：
```
#include
#include
using namespace std;
int main() {
istream_iterator inputInt(cin);
return 0;
}
```
下面程序运行时，如果输入 12 34 程序输出结果是： 12,12
```
#include
#include
using namespace std;
int main()
{
istream_iterator inputInt(cin);
cout << * inputInt << "," << * inputInt << endl;
return 0;
}
```
下面程序运行时，如果输入 12 34 56程序输出结果是： 12,56
```
#include
#include
using namespace std;
int main()
{
istream_iterator inputInt(cin);
cout << * inputInt << "," ;
inputInt ++;
inputInt ++;
cout << * inputInt;
return 0;
}
```
# Solution
我们有看到，类中的某个元素一开始被赋为cin了，说明这应该是一个cin型变量，且在所需要写的类中  
然后，我们再看到提示中的句子 知道我们要重载一个* 和++（因为是后缀所以要加上一个int)，这时候就很一目了然了  
哦，默认构造函数别忘了写  
下面看代码：
```
#include <iostream>
#include <string>

using namespace std;
template <class T>
class CMyistream_iterator
{
private:
	istream& ist;
	T n;
public:
	CMyistream_iterator(){}
	CMyistream_iterator(istream &ist):ist(ist){
		ist>>n;
	}
	T operator*(){
		return n;
	}
	void operator++(int){
		ist>>n;
	}
};



int main()  
{ 
	int t;
	cin >> t;
	while( t -- ) {
		 CMyistream_iterator<int> inputInt(cin);
		 int n1,n2,n3;
		 n1 = * inputInt; //读入 n1
		 int tmp = * inputInt;
		 cout << tmp << endl;
		 inputInt ++;   
		 n2 = * inputInt; //读入 n2
		 inputInt ++;
		 n3 = * inputInt; //读入 n3
		 cout << n1 << " " << n2<< " " << n3 << " ";
		 CMyistream_iterator<string> inputStr(cin);
		 string s1,s2;
		 s1 = * inputStr;
		 inputStr ++;
		 s2 = * inputStr;
		 cout << s1 << " " << s2 << endl;
	}
	 return 0;  
}
```
# F:这个模板并不难
## 描述
程序填空，输出指定结果
```
#include <iostream>
#include <string>
#include <cstring>
using namespace std;
template <class T>  
class myclass {
// 在此处补充你的代码
~myclass( ) {
		delete [] p;
	}
	void Show()
	{
		for( int i = 0;i < size;i ++ ) {
			cout << p[i] << ",";
		}
		cout << endl;
	}
};
int a[100];
int main() {
	char line[100];
	while( cin >> line ) {
		myclass<char> obj(line,strlen(line));;
		obj.Show();
		int n;
		cin >> n;
		for(int i = 0;i < n; ++i)
			cin >> a[i];
		myclass<int> obj2(a,n);
		obj2.Show();
	}
	return 0;
}
```
## 输入
多组数据。每组第一行是一个不含空格的字符串  
第二行是整数n  
第三行是n个整数  
## 输出
对每组数据，先依次输出输入字符串的每个字母，并且在每个字母后面加逗号  
然后依次再输出输入的n个整数 ，在每个整数后面加逗号  
## 样例输入
```
Tom 
3
3 4 5
Jack
4
1 2 3 4
```
## 样例输出
```
T,o,m,
3,4,5,
J,a,c,k,
1,2,3,4,
```
# Solution
我们从题目给出的函数中看出，肯定有一个size,同时还有一个指针，这个指针需要创建出一块连续的大小为size的空间，而这些都要在一个复制构造函数中完成，这样就完事了  
下面看代码:
```
#include <iostream>
#include <string>
#include <cstring>
using namespace std;
template <class T>  
class myclass {
    int size;
    T* p;
public:
    myclass(T* k,int b):size(b){
        p=new T[size];
        for(int i=0;i<size;i++){
            p[i]=k[i];
        }
    }
~myclass( ) {
		delete [] p;
	}
	void Show()
	{
		for( int i = 0;i < size;i ++ ) {
			cout << p[i] << ",";
		}
		cout << endl;
	}
};
int a[100];
int main() {
	char line[100];
	while( cin >> line ) {
		myclass<char> obj(line,strlen(line));;
		obj.Show();
		int n;
		cin >> n;
		for(int i = 0;i < n; ++i)
			cin >> a[i];
		myclass<int> obj2(a,n);
		obj2.Show();
	}
	return 0;
}
```
# G:排序，又见排序!
## 描述
自己编写一个能对任何类型的数组进行排序的mysort函数模版。只能写一个mysort模板，不能写mysort函数！
```
#include <iostream>
using namespace std;

bool Greater2(int n1,int n2) 
{
	return n1 > n2;
}
bool Greater1(int n1,int n2) 
{
	return n1 < n2;
}
bool Greater3(double d1,double d2)
{
	return d1 < d2;
}

template <class T1,class T2>
void mysort(
// 在此处补充你的代码
#define NUM 5
int main()
{
    int an[NUM] = { 8,123,11,10,4 };
    mysort(an,an+NUM,Greater1); //从小到大排序 
    for( int i = 0;i < NUM; i ++ )
       cout << an[i] << ",";
    mysort(an,an+NUM,Greater2); //从大到小排序 
    cout << endl;
    for( int i = 0;i < NUM; i ++ )
        cout << an[i] << ","; 
    cout << endl;
    double d[6] = { 1.4,1.8,3.2,1.2,3.1,2.1};
    mysort(d+1,d+5,Greater3); //将数组从下标1到下标4从小到大排序 
    for( int i = 0;i < 6; i ++ )
         cout << d[i] << ","; 
	return 0;
}
```
## 输入
```
无
```
## 输出
```
4,8,10,11,123,
123,11,10,8,4,
1.4,1.2,1.8,3.1,3.2,2.1,
```
## 样例输入
```
无
```
## 样例输出
```
4,8,10,11,123,
123,11,10,8,4,
1.4,1.2,1.8,3.1,3.2,2.1,
```
# Solution
题目需要我们写mysort这个函数的代码  
当然，第一反应就是冒泡排序，而题目的排序规则都已经给好了，就直接冒泡！  
下面看代码:
```
#include <iostream>
using namespace std;

bool Greater2(int n1,int n2) 
{
	return n1 > n2;
}
bool Greater1(int n1,int n2) 
{
	return n1 < n2;
}
bool Greater3(double d1,double d2)
{
	return d1 < d2;
}

template <class T1,class T2>
void mysort(
T1 *a,T1 *b,bool f(T2 c,T2 d)){
    for(T1 *i=a;i<b;i++){
        for(T1 *j=i+1;j<b;j++){
            if(!f(*i,*j)){
                swap(*i,*j);
            }
        }
    }
}
#define NUM 5
int main()
{
    int an[NUM] = { 8,123,11,10,4 };
    mysort(an,an+NUM,Greater1); //从小到大排序 
    for( int i = 0;i < NUM; i ++ )
       cout << an[i] << ",";
    mysort(an,an+NUM,Greater2); //从大到小排序 
    cout << endl;
    for( int i = 0;i < NUM; i ++ )
        cout << an[i] << ","; 
    cout << endl;
    double d[6] = { 1.4,1.8,3.2,1.2,3.1,2.1};
    mysort(d+1,d+5,Greater3); //将数组从下标1到下标4从小到大排序 
    for( int i = 0;i < 6; i ++ )
         cout << d[i] << ","; 
	return 0;
}
```